<!DOCTYPE html>
<html>
<head>
	<title> Form Validation JavaScript </title>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>


<div class="container">
	<div class="header">
		<h2> Submit a Resume </h2>
	</div>
	<form id="form" class="form" action="#" method="post">
		<div class="form-control">
			<label for="username">Full Name</label> <span>*</span>
			<input type="text" placeholder="First Name" id="firstName" onkeyup="lettersOnly(this)" />
			<i class="fas fa-check-circle"></i>
			<i class="fas fa-exclamation-circle"></i>
			<small>Error message</small>
		</div>

		<div class="form-control">
			<input type="text" placeholder="Last Name" id="lastName" onkeyup="lettersOnly(this)" />
			<i class="fas fa-check-circle"></i>
			<i class="fas fa-exclamation-circle"></i>
			<small>Error message</small>
		</div>


		<div class="form-control">
			<label for="username">Email</label> <span>*</span>
			<input type="email" placeholder="katif3029@gmail.com" id="email" />
			<i class="fas fa-check-circle"></i>
			<i class="fas fa-exclamation-circle"></i>
			<small>Error message</small>
		</div>
		<div class="form-control">
			<label for="phoneNumber">Phone Number</label> <span>*</span>
			<input type="text" placeholder="+923075793601 " id="phoneNumber" onkeyup="numbersOnly(this)" />
      
			<i class="fas fa-check-circle"></i>
			<i class="fas fa-exclamation-circle"></i>
			<small>Error message</small>
		</div>
		<div class="form-control">
			<label for="username">Password</label> <span>*</span>
			<input type="password" placeholder="Password" id="password"/>
			<i class="fas fa-check-circle"></i>
			<i class="fas fa-exclamation-circle"></i>
			<small>Error message</small>
		</div>
		<div class="form-control">
			<label for="username">Confirm Password</label> <span>*</span>
			<input type="password" placeholder="Re-Enter Password" id="password2"/>
			<i class="fas fa-check-circle"></i>
			<i class="fas fa-exclamation-circle"></i>
			<small>Error message</small>
		</div>

		<div class="form-control">
			<label for="message">Message</label> <span>*</span>
			<input type="textarea" placeholder="Enter your message here...." id="message"/>
			<i class="fas fa-check-circle"></i>
			<i class="fas fa-exclamation-circle"></i>
			<small>Error message</small>
		</div>
		<button>Submit</button>
	</form>
</div>

<script type="text/javascript">
	
const form = document.querySelector("#form");
const firstName = document.querySelector("#firstName");
const lastName = document.querySelector("#lastName");
const email = document.querySelector("#email");
const phoneNumber = document.querySelector("#phoneNumber");
const password = document.querySelector("#password");
const password2 = document.querySelector("#password2");
const message = document.querySelector("#message");

form.addEventListener("submit", (e) => {
  e.preventDefault();

  checkInputs();
});


function checkInputs() {
  const lastNameValue = lastName.value.trim();
  const firstNameValue = firstName.value.trim();
  const emailValue = email.value.trim();
  const phoneNumberValue = phoneNumber.value.trim();
  const passwordValue = password.value.trim();
  const password2Value = password2.value.trim();
  const messageValue = message.value.trim();

  if (lastNameValue === "") {
    setErrorFor(lastName, "Please fill the required field");
  } else {
    setSuccessFor(lastName);
  }

  if (firstNameValue === "") {
    setErrorFor(firstName, "Please fill the required field");
  } else {
    setSuccessFor(firstName);
  }

  if (emailValue === "") {
    setErrorFor(email, "Please fill the required field");
  } else if (!isEmail(emailValue)) {
    setErrorFor(email, "Please Enter a valid email");
  } else {
    setSuccessFor(email);
  }

  if (phoneNumberValue === "") {
    setErrorFor(phoneNumber, "Please fill the required field");
  } else {
    setSuccessFor(phoneNumber);
  }

    if (phoneNumberValue.length > 13) {
    setErrorFor(phoneNumber, "Phone Number is not Valid");
  }

  if (messageValue === "") {
    setErrorFor(message, "Please fill the required field");
  } else {
    setSuccessFor(message);
  }

  if (passwordValue === "") {
    setErrorFor(password, "Please fill the required field");
  } else {
    setSuccessFor(password);
  }

  if (password2Value === "") {
    setErrorFor(password2, "Please fill the required field");
  } else if (passwordValue !== password2Value) {
    setErrorFor(password2, "Passwords does not match");
  } else {
    setSuccessFor(password2);
  }
}

function setErrorFor(input, message) {
  const formControl = input.parentElement;
  const small = formControl.querySelector("small");
  formControl.className = "form-control error";
  small.innerText = message;
}

function setSuccessFor(input) {
  const formControl = input.parentElement;
  formControl.className = "form-control success";
}


function isEmail(email) {
  return /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(
    email
  );
}

function lettersOnly(input) {
  // correct regex to match for alphabets only.
  var regex = /^[A-Z]+$/g;
  const value = input.value;
  if (!regex.test(value)) {
    input.value = value.slice(0, value.length - 1);
  }
  // test(username);
}

function numbersOnly(input) {
  const regex = /[^0-9+]+/gi;
  input.value = input.value.replace(regex, "");
  // test(phoneNumber);
}


</script>

</body>
</html>